环境变量
============


.. raw:: html

    <!DOCTYPE html>
    <html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MindSpeed-MM环境变量配置表</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                background: white;
                color: #333;
                padding: 20px;
            }
            
            .container {
                max-width: 100%;
                overflow-x: auto;
            }
            
            table {
                width: 100%;
                border-collapse: collapse;
                min-width: 1000px;
            }
            
            th {
                background: #ee4c2c;
                color: white;
                font-weight: 600;
                text-align: left;
                padding: 12px 15px;
                border: 1px solid #ddd;
            }
            
            td {
                padding: 12px 15px;
                border: 1px solid #ddd;
                vertical-align: top;
            }
            
            tr:nth-child(even) {
                background-color: #f9f9f9;
            }
            
            tr:hover {
                background-color: #f5f5f5;
            }
            
            .env-var {
                font-family: "SFMono-Regular", Consolas, monospace;
                font-weight: 600;
                color: #ee4c2c;
                font-size: 14px;
            }
            
            .value-desc {
                font-family: "SFMono-Regular", Consolas, monospace;
                background: #f5f5f5;
                padding: 2px 6px;
                border-radius: 3px;
                font-size: 13px;
                margin: 2px 0;
                display: inline-block;
                border: 1px solid #e0e0e0;
            }
            
            .default-value {
                background: #e7f5e9;
                color: #28a745;
                border-color: #c3e6cb;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <table>
                <thead>
                    <tr>
                        <th>环境变量</th>
                        <th>描述</th>
                        <th>取值说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code class="env-var">ASCEND_SLOG_PRINT_TO_STDOUT</code></td>
                        <td>是否开启日志打印</td>
                        <td>
                            <code class="value-desc">0</code>: 关闭日志打屏<br>
                            <code class="value-desc">1</code>: 开启日志打屏
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">ASCEND_GLOBAL_LOG_LEVEL</code></td>
                        <td>设置应用类日志的日志级别</td>
                        <td>
                            <code class="value-desc">0</code>: DEBUG<br>
                            <code class="value-desc">1</code>: INFO<br>
                            <code class="value-desc">2</code>: WARNING<br>
                            <code class="value-desc">3</code>: ERROR<br>
                            <code class="value-desc">4</code>: NULL（不输出日志）
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">TASK_QUEUE_ENABLE</code></td>
                        <td>控制task_queue算子下发队列优化等级</td>
                        <td>
                            <code class="value-desc">0</code>: 关闭<br>
                            <code class="value-desc">1</code>: 开启Level 1优化<br>
                            <code class="value-desc">2</code>: 开启Level 2优化
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">COMBINED_ENABLE</code></td>
                        <td>优化非连续两个算子组合场景</td>
                        <td>
                            <code class="value-desc">0</code>: 关闭<br>
                            <code class="value-desc">1</code>: 开启
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">CPU_AFFINITY_CONF</code></td>
                        <td>控制CPU任务绑核行为</td>
                        <td>
                            <code class="value-desc">0</code>或未设置: 不绑核<br>
                            <code class="value-desc">1</code>: 粗粒度绑核<br>
                            <code class="value-desc">2</code>: 细粒度绑核
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">HCCL_CONNECT_TIMEOUT</code></td>
                        <td>设备间socket建链超时时间</td>
                        <td>
                            整数 [120,7200]<br>
                            <code class="value-desc default-value">默认：120</code> (秒)
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">PYTORCH_NPU_ALLOC_CONF</code></td>
                        <td>控制缓存分配器行为</td>
                        <td>
                            <code class="value-desc">expandable_segments:&lt;value&gt;</code>: 启用内存池扩展段
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">HCCL_EXEC_TIMEOUT</code></td>
                        <td>设备间执行同步等待时间</td>
                        <td>
                            整数 [68,17340]<br>
                            <code class="value-desc default-value">默认：1800</code> (秒)
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">ACLNN_CACHE_LIMIT</code></td>
                        <td>Host侧缓存的算子信息条目数</td>
                        <td>
                            整数 [1, 10,000,000]<br>
                            <code class="value-desc default-value">默认：10000</code>
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">TOKENIZERS_PARALLELISM</code></td>
                        <td>控制Hugging Face分词器并行行为</td>
                        <td>
                            <code class="value-desc">False</code>: 禁用并行<br>
                            <code class="value-desc">True</code>: 启用并行
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">MULTI_STREAM_MEMORY_REUSE</code></td>
                        <td>控制多流内存复用</td>
                        <td>
                            <code class="value-desc">0</code>: 关闭<br>
                            <code class="value-desc">1</code>: 开启
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">NPU_ASD_ENABLE</code></td>
                        <td>控制特征值检测功能</td>
                        <td>
                            <code class="value-desc">0</code>或未设置: 关闭<br>
                            <code class="value-desc">1</code>: 开启，仅打印异常<br>
                            <code class="value-desc">2</code>: 开启并告警<br>
                            <code class="value-desc">3</code>: 开启并记录过程数据
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">ASCEND_LAUNCH_BLOCKING</code></td>
                        <td>控制算子执行模式</td>
                        <td>
                            <code class="value-desc">0</code>: 异步执行<br>
                            <code class="value-desc">1</code>: 同步执行
                        </td>
                    </tr>
                    <tr>
                        <td><code class="env-var">NPUS_PER_NODE</code></td>
                        <td>配置节点使用的NPU数量</td>
                        <td>
                            整数，如 <code class="value-desc">1</code>, <code class="value-desc">8</code>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
    </html>


..  # 这是一个注释，用于保持空行
.. raw:: html

   <div style="height: 40px;"></div>

.. note:: 

    更多昇腾相关环境变量请参考 `环境变量列表 <https://www.hiascend.com/document/detail/zh/canncommercial/83RC1/maintenref/envvar/envref_07_0001.html>`_ 